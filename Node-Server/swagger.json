{
  "openapi": "3.0.0",
  "info": {
    "title": "Museum AR API",
    "version": "1.0.0",
    "description": "API documentation for the Museum AR app."
  },
  "servers": [
    {
      "url": "https://armuseumapp.onrender.com"
    }
  ],
  "paths": {
    "/api/museums": {
      "get": {
        "summary": "Get all museums",
        "tags": ["Museums"],
        "responses": {
          "200": { "description": "List of museum IDs" },
          "500": { "description": "Server error" }
        }
      }
    },
    "/api/{museumID}/rooms": {
      "get": {
        "summary": "Get rooms for a museum",
        "tags": ["Museums"],
        "parameters": [
          { "in": "path", "name": "museumID", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "List of room IDs" },
          "400": { "description": "Missing parameter" }
        }
      }
    },
    "/api/{museumID}/authenticate": {
      "post": {
        "summary": "Authenticate curator login",
        "tags": ["Curators"],
        "parameters": [
          { "in": "path", "name": "museumID", "required": true, "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "curatorID": { "type": "string" },
                  "curatorPassword": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Login successful" },
          "401": { "description": "Invalid login" }
        }
      }
    },
    "/api/{museumID}/{roomID}/panel": {
      "get": {
        "summary": "Get curator panels",
        "tags": ["Curator Panels"],
        "parameters": [
          { "in": "path", "name": "museumID", "required": true, "schema": { "type": "string" } },
          { "in": "path", "name": "roomID", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "List of curator panels" }
        }
      },
      "post": {
        "summary": "Create curator panel",
        "tags": ["Curator Panels"],
        "parameters": [
          { "in": "path", "name": "museumID", "required": true, "schema": { "type": "string" } },
          { "in": "path", "name": "roomID", "required": true, "schema": { "type": "string" } }
        ],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "201": { "description": "Panel created" },
          "400": { "description": "Invalid data" }
        }
      },
      "patch": {
        "summary": "Update curator panel",
        "tags": ["Curator Panels"],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "200": { "description": "Panel updated" }
        }
      },
      "delete": {
        "summary": "Delete curator panel",
        "tags": ["Curator Panels"],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "200": { "description": "Panel deleted" }
        }
      }
    },
    "/api/{museumID}/{roomID}/allPanels": {
      "get": {
        "summary": "Get all panels in a room",
        "tags": ["Panels"],
        "parameters": [
          { "in": "path", "name": "museumID", "required": true, "schema": { "type": "string" } },
          { "in": "path", "name": "roomID", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": { "description": "List of all panels" }
        }
      }
    },
    "/api/{museumID}/{roomID}/curator/availablePanels": {
      "get": {
        "summary": "Get available curator panels",
        "tags": ["Curator Panels"],
        "responses": {
          "200": { "description": "List of available panels" }
        }
      }
    },
    "/api/{museumID}/{roomID}/community/{sessionID}/availablePanels": {
      "get": {
        "summary": "Get available panels for a community session",
        "tags": ["Community Panels"],
        "responses": {
          "200": { "description": "List of available community panels" }
        }
      }
    },
    "/api/{museumID}/{roomID}/panel/{panelID}": {
      "get": {
        "summary": "Get panel by ID",
        "tags": ["Panels"],
        "responses": {
          "200": { "description": "Panel details" }
        }
      }
    },
    "/api/{museumID}/community": {
      "get": {
        "summary": "Get community sessions",
        "tags": ["Community"],
        "responses": {
          "200": { "description": "List of session IDs" }
        }
      },
      "post": {
        "summary": "Create community session",
        "tags": ["Community"],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "201": { "description": "Session created" },
          "409": { "description": "Session already exists" }
        }
      },
      "delete": {
        "summary": "Delete community session",
        "tags": ["Community"],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "200": { "description": "Session deleted" }
        }
      }
    },
    "/api/{museumID}/community/join": {
      "post": {
        "summary": "Join community session",
        "tags": ["Community"],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "200": { "description": "Joined successfully, returns accessToken" },
          "401": { "description": "Incorrect password" }
        }
      }
    },
    "/api/{museumID}/{roomID}/community/{accessToken}/panel": {
      "post": {
        "summary": "Create community panel",
        "tags": ["Community Panels"],
        "requestBody": { "required": true, "content": { "application/json": {} } },
        "responses": {
          "201": { "description": "Panel created" }
        }
      }
    },
    "/server/health": {
      "get": {
        "summary": "Check server health",
        "tags": ["Server"],
        "responses": {
          "200": { "description": "Server is online" }
        }
      }
    }
  }
}
